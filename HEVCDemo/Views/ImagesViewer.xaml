<UserControl x:Class="HEVCDemo.Views.ImagesViewer"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:prism="http://prismlibrary.com/"
             xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks" xmlns:views="clr-namespace:HEVCDemo.Views"
             prism:ViewModelLocator.AutoWireViewModel="True">
    <Grid Margin="2" IsEnabled="{Binding Enabled}">
        <Grid.RowDefinitions>
            <RowDefinition Height="950"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <!--Frame Image-->
        <Image Grid.Row="0" Source="{Binding Mode=OneWay, Path=CurrentFrameImage}" Height="{Binding Mode=OneWay, Path=Height}" Width="{Binding Mode=OneWay, Path=Width}"/>
        
        <!--CU Structure Image (Overlay)-->
        <Image Grid.Row="0" Source="{Binding Mode=OneWay, Path=CurrentCUPUImage}" Height="{Binding Mode=OneWay, Path=Height}" Width="{Binding Mode=OneWay, Path=Width}"/>
        
        <!--Controls-->
        <Grid Grid.Row="1" HorizontalAlignment="Center" Margin="4">
            <Grid.RowDefinitions>
                <RowDefinition Height="38"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            
        <Button Grid.Column="0" Command="{Binding SelectVideoClick}" Width="150" HorizontalAlignment="Left">Select h.265 video</Button>
        
        <Grid Grid.Column="1" HorizontalAlignment="Center" Margin="8,0,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
            <Button Grid.Column="0" Command="{Binding BackwardClick}">
                <iconPacks:PackIconModern Kind="NavigatePrevious"
                                 VerticalAlignment="Center"
                                 HorizontalAlignment="Center" />
            </Button>
            <Button Grid.Column="1" Margin="4,0,0,0" Command="{Binding ForwardClick}">
                <iconPacks:PackIconModern Kind="NavigateNext"
                                 VerticalAlignment="Center"
                                 HorizontalAlignment="Center" />
            </Button>
                <Label Grid.Column="2" Margin="4,0,0,0" Content="Current frame: "/>
                <Label Grid.Column="3" Margin="4,0,0,0" Content="{Binding Counter}"/>
                <DockPanel Grid.Column="4" Width="400">
                    <Slider Margin="4,0,0,0" Maximum="{Binding MaxSliderValue}" TickFrequency="30" TickPlacement="BottomRight" Value="{Binding Counter}"/>
                </DockPanel>
                <Label Margin="4,0,0,0" Grid.Column="5">App State: </Label>
                <Label Margin="4,0,0,0" Grid.Column="6" Content="{Binding AppState}"/>
            </Grid>
    </Grid>
    </Grid>
    <UserControl.InputBindings>
        <KeyBinding Key="Left" Command="{Binding BackwardClick}"/>
        <KeyBinding Key="Right" Command="{Binding ForwardClick}"/>
    </UserControl.InputBindings>
</UserControl>
